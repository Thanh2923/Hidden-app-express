<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Cập Nhật Sản Phẩm</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
</head>
<body>

<div class="container mt-5">
    <h1>Cập Nhật Danh Mục</h1>
    
    <form action="/admin/category/update?_method=PUT" method="post">
        <input type="hidden" name="id" value="<%= products.id %>">
       
        <div class="mb-3">
            <label for="name" class="form-label">Name Category</label>
            <input type="text" class="form-control" id="nameCategory" name="nameCategory" value="<%= products.nameCategory %>" required>
        </div>

      

        <!-- Nút Cập Nhật -->
        <button type="submit" class="btn btn-primary">Cập Nhật</button>
    </form>
</div>

<!-- <script>
    const formUpdatePro = document.getElementById('formUpdatePro');
    formUpdatePro.addEventListener('submit', async (event) => {
        event.preventDefault();
        const name = document.getElementById('name').value;
        const price = document.getElementById('price').value;
        const description = document.getElementById('description').value;
        const image = document.getElementById('image').value;
        const data = {
            name: name,
            price: price,
            description: description,
            image: image
        };
        console.log(data)

        try {
        const response = await fetch(`http://localhost:3000/product/product/${productId}`, {
            method: 'PUT',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify({data})
        });

        if (response.ok) {
            alert('Cập nhật sản phẩm thành công!');
            window.location.href = '/admin'; // Quay lại trang danh sách sản phẩm
        } else {
            alert('Có lỗi xảy ra khi cập nhật sản phẩm.');
        }
    } catch (error) {
        alert('Có lỗi xảy ra.');
    }
    })
// async function updateProduct(event, productId) {
//     event.preventDefault(); // Ngăn form gửi mặc định
//     const form = event.target;

//     const formData = {
//         name: form.name.value,
//         price: form.price.value,
//         description: form.description.value,
//         image: form.image.value,
//     };

//     try {
//         const response = await fetch(`http://localhost:3000/product/product/${productId}`, {
//             method: 'PUT',
//             headers: {
//                 'Content-Type': 'application/json'
//             },
//             body: JSON.stringify(formData)
//         });

//         if (response.ok) {
//             alert('Cập nhật sản phẩm thành công!');
//             window.location.href = '/admin'; // Quay lại trang danh sách sản phẩm
//         } else {
//             alert('Có lỗi xảy ra khi cập nhật sản phẩm.');
//         }
//     } catch (error) {
//         alert('Có lỗi xảy ra.');
//     }
// }
</script> -->

</body>
</html>
